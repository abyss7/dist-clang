config("includes") {
  include_dirs = [ "include" ]
}

shared_library("c++") {
  sources = [
    "include/algorithm",
    "include/array",
    "include/atomic",
    "include/bitset",
    "include/cassert",
    "include/ccomplex",
    "include/cctype",
    "include/cerrno",
    "include/cfenv",
    "include/cfloat",
    "include/chrono",
    "include/cinttypes",
    "include/ciso646",
    "include/climits",
    "include/clocale",
    "include/cmath",
    "include/codecvt",
    "include/complex",
    "include/condition_variable",
    "include/csetjmp",
    "include/csignal",
    "include/cstdarg",
    "include/cstdbool",
    "include/cstddef",
    "include/cstdint",
    "include/cstdio",
    "include/cstdlib",
    "include/cstring",
    "include/ctgmath",
    "include/ctime",
    "include/cwchar",
    "include/cwctype",
    "include/deque",
    "include/exception",
    "include/experimental/dynarray",
    "include/experimental/optional",
    "include/forward_list",
    "include/fstream",
    "include/functional",
    "include/future",
    "include/initializer_list",
    "include/iomanip",
    "include/ios",
    "include/iosfwd",
    "include/iostream",
    "include/istream",
    "include/iterator",
    "include/limits",
    "include/list",
    "include/locale",
    "include/map",
    "include/memory",
    "include/mutex",
    "include/new",
    "include/numeric",
    "include/ostream",
    "include/queue",
    "include/random",
    "include/ratio",
    "include/regex",
    "include/scoped_allocator",
    "include/set",
    "include/shared_mutex",
    "include/sstream",
    "include/stack",
    "include/stdexcept",
    "include/streambuf",
    "include/string",
    "include/strstream",
    "include/system_error",
    "include/thread",
    "include/tuple",
    "include/type_traits",
    "include/typeindex",
    "include/typeinfo",
    "include/unordered_map",
    "include/unordered_set",
    "include/utility",
    "include/valarray",
    "include/vector",
    "src/algorithm.cpp",
    "src/bind.cpp",
    "src/chrono.cpp",
    "src/condition_variable.cpp",
    "src/debug.cpp",
    "src/exception.cpp",
    "src/future.cpp",
    "src/hash.cpp",
    "src/ios.cpp",
    "src/iostream.cpp",
    "src/locale.cpp",
    "src/memory.cpp",
    "src/mutex.cpp",
    "src/new.cpp",
    "src/optional.cpp",
    "src/random.cpp",
    "src/regex.cpp",
    "src/shared_mutex.cpp",
    "src/stdexcept.cpp",
    "src/string.cpp",
    "src/strstream.cpp",
    "src/system_error.cpp",
    "src/thread.cpp",
    "src/typeinfo.cpp",
    "src/utility.cpp",
    "src/valarray.cpp",
  ]

  cflags = [
    "-O3",
    "-pedantic",
    "-Wall",
    "-Wno-unused-parameter",
    "-Wwrite-strings",
    "-Wno-long-long",
    "-Wno-error",
  ]
  libs = [ "m" ]
  if (os == "linux") { libs += [ "rt" ] }
  if (os == "mac") { libs += [ "c++abi" ] }

  configs = []
  configs += [ "//build/config:default_library" ]
  all_dependent_configs = [ ":includes" ]

  deps = []
  if (os == "linux") { deps += [ "//src/third_party/libcxxabi:c++abi" ] }
}
